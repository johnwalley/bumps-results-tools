import { expect, test } from "bun:test";
import { processResults, readFile } from "./bumps";

test("processResults", async () => {
  const event = await readFile("./results/tg_format/mays2024_men.txt");

  processResults(event!, true);

  expect(event).toEqual({
    set: "May Bumps",
    short: "Mays",
    gender: "Men",
    year: "2024",
    days: 4,
    distance: 2500,
    flags: [],
    crews: [
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Caius",
        num_name: "Caius I",
        club: "Caius",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "LMBC",
        num_name: "LMBC I",
        club: "LMBC",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Magdalene",
        num_name: "Magdalene I",
        club: "Magdalene",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "King's",
        num_name: "King's I",
        club: "King's",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Emmanuel",
        num_name: "Emmanuel I",
        club: "Emmanuel",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Pembroke",
        num_name: "Pembroke I",
        club: "Pembroke",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Jesus",
        num_name: "Jesus I",
        club: "Jesus",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Peterhouse",
        num_name: "Peterhouse I",
        club: "Peterhouse",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Downing",
        num_name: "Downing I",
        club: "Downing",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Clare",
        num_name: "Clare I",
        club: "Clare",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Queens'",
        num_name: "Queens' I",
        club: "Queens'",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "St Catharine's",
        num_name: "St Catharine's I",
        club: "St Catharine's",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "LMBC II",
        num_name: "LMBC II",
        club: "LMBC",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Selwyn",
        num_name: "Selwyn I",
        club: "Selwyn",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "1st and 3rd",
        num_name: "1st and 3rd I",
        club: "1st and 3rd",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Robinson",
        num_name: "Robinson I",
        club: "Robinson",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Caius II",
        num_name: "Caius II",
        club: "Caius",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Hughes Hall",
        num_name: "Hughes Hall I",
        club: "Hughes Hall",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Trinity Hall",
        num_name: "Trinity Hall I",
        club: "Trinity Hall",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Fitzwilliam",
        num_name: "Fitzwilliam I",
        club: "Fitzwilliam",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Christ's",
        num_name: "Christ's I",
        club: "Christ's",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Corpus Christi",
        num_name: "Corpus Christi I",
        club: "Corpus Christi",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Wolfson",
        num_name: "Wolfson I",
        club: "Wolfson",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Girton",
        num_name: "Girton I",
        club: "Girton",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Churchill",
        num_name: "Churchill I",
        club: "Churchill",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Emmanuel II",
        num_name: "Emmanuel II",
        club: "Emmanuel",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Downing II",
        num_name: "Downing II",
        club: "Downing",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Homerton",
        num_name: "Homerton I",
        club: "Homerton",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Pembroke II",
        num_name: "Pembroke II",
        club: "Pembroke",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "1st and 3rd II",
        num_name: "1st and 3rd II",
        club: "1st and 3rd",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Jesus II",
        num_name: "Jesus II",
        club: "Jesus",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "St Edmund's",
        num_name: "St Edmund's I",
        club: "St Edmund's",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "St Catharine's II",
        num_name: "St Catharine's II",
        club: "St Catharine's",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Clare II",
        num_name: "Clare II",
        club: "Clare",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Sidney Sussex",
        num_name: "Sidney Sussex I",
        club: "Sidney Sussex",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Darwin",
        num_name: "Darwin I",
        club: "Darwin",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Magdalene II",
        num_name: "Magdalene II",
        club: "Magdalene",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Queens' II",
        num_name: "Queens' II",
        club: "Queens'",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Emmanuel III",
        num_name: "Emmanuel III",
        club: "Emmanuel",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Trinity Hall II",
        num_name: "Trinity Hall II",
        club: "Trinity Hall",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Clare Hall",
        num_name: "Clare Hall I",
        club: "Clare Hall",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Churchill II",
        num_name: "Churchill II",
        club: "Churchill",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Peterhouse II",
        num_name: "Peterhouse II",
        club: "Peterhouse",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Robinson II",
        num_name: "Robinson II",
        club: "Robinson",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Selwyn II",
        num_name: "Selwyn II",
        club: "Selwyn",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Christ's II",
        num_name: "Christ's II",
        club: "Christ's",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Fitzwilliam II",
        num_name: "Fitzwilliam II",
        club: "Fitzwilliam",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Jesus III",
        num_name: "Jesus III",
        club: "Jesus",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "LMBC III",
        num_name: "LMBC III",
        club: "LMBC",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "King's II",
        num_name: "King's II",
        club: "King's",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Caius III",
        num_name: "Caius III",
        club: "Caius",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Corpus Christi II",
        num_name: "Corpus Christi II",
        club: "Corpus Christi",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Hughes Hall II",
        num_name: "Hughes Hall II",
        club: "Hughes Hall",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Lucy Cavendish",
        num_name: "Lucy Cavendish I",
        club: "Lucy Cavendish",
        number: 1,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "1st and 3rd III",
        num_name: "1st and 3rd III",
        club: "1st and 3rd",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Wolfson II",
        num_name: "Wolfson II",
        club: "Wolfson",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Pembroke III",
        num_name: "Pembroke III",
        club: "Pembroke",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Girton II",
        num_name: "Girton II",
        club: "Girton",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Magdalene III",
        num_name: "Magdalene III",
        club: "Magdalene",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Sidney Sussex II",
        num_name: "Sidney Sussex II",
        club: "Sidney Sussex",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Clare III",
        num_name: "Clare III",
        club: "Clare",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Darwin II",
        num_name: "Darwin II",
        club: "Darwin",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Churchill III",
        num_name: "Churchill III",
        club: "Churchill",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Jesus IV",
        num_name: "Jesus IV",
        club: "Jesus",
        number: 4,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Emmanuel IV",
        num_name: "Emmanuel IV",
        club: "Emmanuel",
        number: 4,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "LMBC IV",
        num_name: "LMBC IV",
        club: "LMBC",
        number: 4,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "St Catharine's III",
        num_name: "St Catharine's III",
        club: "St Catharine's",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Fitzwilliam III",
        num_name: "Fitzwilliam III",
        club: "Fitzwilliam",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Magdalene IV",
        num_name: "Magdalene IV",
        club: "Magdalene",
        number: 4,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Lucy Cavendish II",
        num_name: "Lucy Cavendish II",
        club: "Lucy Cavendish",
        number: 2,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "LMBC V",
        num_name: "LMBC V",
        club: "LMBC",
        number: 5,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Downing III",
        num_name: "Downing III",
        club: "Downing",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Peterhouse III",
        num_name: "Peterhouse III",
        club: "Peterhouse",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "LMBC VI",
        num_name: "LMBC VI",
        club: "LMBC",
        number: 6,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Selwyn III",
        num_name: "Selwyn III",
        club: "Selwyn",
        number: 3,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Jesus V",
        num_name: "Jesus V",
        club: "Jesus",
        number: 5,
        end: null,
      },
      {
        gain: null,
        blades: false,
        highlight: false,
        withdrawn: false,
        start: "Sidney Sussex III",
        num_name: "Sidney Sussex III",
        club: "Sidney Sussex",
        number: 3,
        end: null,
      },
    ],
    div_size: [
      [17, 17, 17, 17, 9],
      [17, 17, 17, 17, 9],
      [17, 17, 17, 17, 9],
      [17, 17, 17, 17, 9],
    ],
    results: [
      "rrurrru uuro3uurruur rurruuuuuur uuururuurur uuuurrrurrru",
      "ruurur ruo3urururuu uuuurruuuu rurrrurrruuru rurruurrrurrrr",
      "urrruu uurrurururru rurruo3uuurrr rrururrrrruurr uuuururrurrr",
      "urruru ruuuurruuur rruuurruuurr rrrruuurrruru ruuuruurrrur",
    ],
    pace: [],
  });
});
